###############
# Robot Setup #
###############

# Notes:
#  - If using iiwa7, weld `iiwa_link_0` to world. If using iiwa14, weld `base` to world.

model_drivers:
  iiwa: !IiwaDriver {}  # ForceDriver allows access to desired_state and desired_acceleration input ports for station (results in better traj following)
  wsg: !SchunkWsgDriver {}

directives:
- add_model:
    name: iiwa
    file: package://drake/manipulation/models/iiwa_description/urdf/iiwa14_spheres_dense_collision.urdf
    default_joint_positions:
      iiwa_joint_1: [1.57]
      iiwa_joint_2: [0.5]
      iiwa_joint_3: [0]
      iiwa_joint_4: [-1.2]
      iiwa_joint_5: [0]
      iiwa_joint_6: [0.8]
      iiwa_joint_7: [1.57]

- add_weld:
    parent: world
    child: iiwa::base

- add_model:
    name: wsg
    file: package://drake/manipulation/models/wsg_50_description/sdf/schunk_wsg_50_with_tip.sdf
    default_joint_positions:
      left_finger_sliding_joint: [-0.055]
      right_finger_sliding_joint: [0.055]

- add_weld:
    parent: iiwa::iiwa_link_7
    child: wsg::body
    X_PC:
      translation: [0, 0, 0.09]
      rotation: !Rpy { deg: [90, 0, 90]}

- add_model:
    name: plt_render_camera
    file: package://manipulation/camera_box.sdf

- add_weld:
    parent: world
    child: plt_render_camera::base
    X_PC:
        translation: [2, 1.5, 2]
        rotation: !Rpy {deg: [-30, 0, 135]}

cameras:
  plt_render_camera:
    name: plt_render_camera
    clipping_near: 0.1 # To clip out the camera object
    X_PB:
      base_frame: plt_render_camera::base
      rotation: !Rpy { deg: [-90, 0, 0]}